{"version":3,"sources":["src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["document","readyState","console","log","initialize","addEventListener","JQ","query","code","selection","filter","values","response","format","getData","url","fetch","method","body","JSON","stringify","res","ok","json","data","newChart","year","Object","dimension","Vuosi","category","label","muncipilaty","Alue","x","value","st","map","String","ChartData","labels","datasets","name","chart","frappe","Chart","title","type","height","color","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["import \"./styles.css\";\n//import { Chart } from \"frappe-charts/dist/frappe-charts.min.esm\";\n\n/*\ndocument.getElementById(\"app\").innerHTML = `\n<h1>Hello Vanilla!</h1>\n<div>\n  We use the same configuration as Parcel to bundle this sandbox, you can find more\n  info about Parcel \n  <a href=\"https://parceljs.org\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.\n</div>\n`; \n*/\n\nif (document.readyState !== \"loading\") {\n  console.log(\"valmis\");\n  initialize();\n} else {\n  document.addEventListener(\"DOMContetntLoaded\", function () {\n    console.log(\"else valmis\");\n    initialize();\n  });\n}\n\nfunction initialize() {\n  const JQ = {\n    query: [\n      {\n        code: \"Vuosi\",\n        selection: {\n          filter: \"item\",\n          values: [\n            \"2000\",\n            \"2001\",\n            \"2002\",\n            \"2003\",\n            \"2004\",\n            \"2005\",\n            \"2006\",\n            \"2007\",\n            \"2008\",\n            \"2009\",\n            \"2010\",\n            \"2011\",\n            \"2012\",\n            \"2013\",\n            \"2014\",\n            \"2015\",\n            \"2016\",\n            \"2017\",\n            \"2018\",\n            \"2019\",\n            \"2020\",\n            \"2021\"\n          ]\n        }\n      },\n      {\n        code: \"Alue\",\n        selection: {\n          filter: \"item\",\n          values: [\"SSS\"]\n        }\n      },\n      {\n        code: \"Tiedot\",\n        selection: {\n          filter: \"item\",\n          values: [\"vaesto\"]\n        }\n      }\n    ],\n    response: {\n      format: \"json-stat2\"\n    }\n  };\n\n  const getData = async () => {\n    const url =\n      \"https://statfin.stat.fi/PxWeb/api/v1/en/StatFin/synt/statfin_synt_pxt_12dy.px\";\n    const res = await fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(JQ)\n    });\n    if (!res.ok) {\n      return;\n    }\n    const data = await res.json();\n\n    return data;\n  };\n\n  const newChart = async () => {\n    const data = await getData();\n    const year = Object.values(data.dimension.Vuosi.category.label);\n    const muncipilaty = Object.values(data.dimension.Alue.category.label);\n    const x = data.value;\n    const st = x.map(String);\n    console.log(data);\n    console.log(typeof st[1]);\n    console.log(typeof year[1]);\n\n    const ChartData = {\n      labels: year,\n      datasets: [\n        {\n          name: \"Koko suomi\",\n          values: x\n        }\n      ]\n    };\n    console.log(\"ttt\");\n    const chart = new frappe.Chart(\"#chart\", {\n      title: \"Tässä vois olla joku kiva otsikko\",\n      data: ChartData,\n      type: \"line\",\n      height: 450,\n      color: [\"##eb5146\"]\n    });\n    console.log(\"4\");\n  };\n\n  newChart();\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}